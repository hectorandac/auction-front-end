{"ast":null,"code":"var _jsxFileName = \"/Users/hectorandac/Documents/Projects/auctions/auctions-front-end/pages/components/trendyAuction.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Api from \"./api\";\nimport Chip from '@material-ui/core/Chip';\nimport { Button, makeStyles } from \"@material-ui/core\";\nimport Countdown from 'react-countdown';\nvar percentColors = [{\n  pct: 0.0,\n  color: {\n    r: 0x69,\n    g: 0x99,\n    b: 0x5D\n  }\n}, {\n  pct: 0.5,\n  color: {\n    r: 0xff,\n    g: 0xBC,\n    b: 0x1F\n  }\n}, {\n  pct: 1.0,\n  color: {\n    r: 0xEE,\n    g: 0x6C,\n    b: 0x4D\n  }\n}];\n\nvar getColorForPercentage = function (pct) {\n  for (var i = 1; i < percentColors.length - 1; i++) {\n    if (pct < percentColors[i].pct) {\n      break;\n    }\n  }\n\n  var lower = percentColors[i - 1];\n  var upper = percentColors[i];\n  var range = upper.pct - lower.pct;\n  var rangePct = (pct - lower.pct) / range;\n  var pctLower = 1 - rangePct;\n  var pctUpper = rangePct;\n  var color = {\n    r: Math.floor(lower.color.r * pctLower + upper.color.r * pctUpper),\n    g: Math.floor(lower.color.g * pctLower + upper.color.g * pctUpper),\n    b: Math.floor(lower.color.b * pctLower + upper.color.b * pctUpper)\n  };\n  return 'rgb(' + [color.r, color.g, color.b].join(',') + ')'; // or output as hex if preferred\n};\n\nconst useStyles = makeStyles({\n  chip: {\n    backgroundColor: getColorForPercentage(.0)\n  }\n});\nconst Main = styled.main`\n  display: flex;\n  justify-content: center;\n`;\nconst TrendyAuctionContainer = styled.div`\n    width: 100%;\n    margin-bottom: 160px;\n    display: flex;\n    flex-direction: row;\n    max-width: 768px;\n    justify-content: center;\n    justify-items: center;\n    @media (max-width: 600px) {\n        flex-direction: column;\n    }\n`;\nconst TrendyImageContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    justify-items: center;\n    align-items: center;\n    align-content: center;\n    width: 50%;\n    height: 400px;\n    @media (max-width: 600px) {\n        width: 100%;\n        height: 300px;\n    }\n`;\nconst TrendyImage = styled.img`\n    height: 88%;\n    @media (max-width: 600px) {\n        height: 92%;\n    }\n`;\nconst TrendyAuctionDetail = styled.div`\n    margin: 0 16px;\n    width: calc(50% - 32px);\n    @media (max-width: 600px) {\n        width: calc(100% - 32px);\n    }\n`;\nconst Title = styled.h3`\n    font-weight: 200;\n`;\nexport default function TrendyAuction() {\n  const {\n    0: itemImage,\n    1: setItemImage\n  } = useState('');\n  const {\n    0: itemName,\n    1: setItemName\n  } = useState('');\n  const {\n    0: itemAuctionEndDate,\n    1: setItemAuctionEndDate\n  } = useState(Date.now());\n  const {\n    0: itemDetails,\n    1: setItemDetails\n  } = useState('');\n  useEffect(() => {\n    fetchTrendyItem(trendyItem => {\n      setItemImage(trendyItem.images[0]);\n      setItemName(trendyItem.title);\n      setItemAuctionEndDate(trendyItem.auction_closes_at);\n      setItemDetails(trendyItem.details.substring(0, 160) + \"...\");\n    });\n  }, []);\n  const customStyle = useStyles();\n  return __jsx(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, __jsx(TrendyAuctionContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, __jsx(TrendyImageContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, __jsx(TrendyImage, {\n    src: itemImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  })), __jsx(TrendyAuctionDetail, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, __jsx(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, itemName), __jsx(Chip, {\n    classes: {\n      root: customStyle.chip\n    },\n    label: __jsx(Countdown, {\n      date: itemAuctionEndDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 69\n      }\n    }),\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, itemDetails), __jsx(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, \"View auction\"))));\n}\n\nasync function fetchTrendyItem(onSuccess) {\n  await Api.axiosInstance.get(`${process.env.NEXT_PUBLIC_API_URL}/products/trendy`).then(function (response) {\n    onSuccess(response.data);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}","map":{"version":3,"sources":["/Users/hectorandac/Documents/Projects/auctions/auctions-front-end/pages/components/trendyAuction.js"],"names":["useEffect","useState","styled","Api","Chip","Button","makeStyles","Countdown","percentColors","pct","color","r","g","b","getColorForPercentage","i","length","lower","upper","range","rangePct","pctLower","pctUpper","Math","floor","join","useStyles","chip","backgroundColor","Main","main","TrendyAuctionContainer","div","TrendyImageContainer","TrendyImage","img","TrendyAuctionDetail","Title","h3","TrendyAuction","itemImage","setItemImage","itemName","setItemName","itemAuctionEndDate","setItemAuctionEndDate","Date","now","itemDetails","setItemDetails","fetchTrendyItem","trendyItem","images","title","auction_closes_at","details","substring","customStyle","root","onSuccess","axiosInstance","get","process","env","NEXT_PUBLIC_API_URL","then","response","data","catch","error","console","log"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport Api from \"./api\"\nimport Chip from '@material-ui/core/Chip';\nimport { Button, makeStyles } from \"@material-ui/core\";\nimport Countdown from 'react-countdown';\n\n\nvar percentColors = [\n    { pct: 0.0, color: { r: 0x69, g: 0x99, b: 0x5D } },\n    { pct: 0.5, color: { r: 0xff, g: 0xBC, b: 0x1F } },\n    { pct: 1.0, color: { r: 0xEE, g: 0x6C, b: 0x4D } }];\n\nvar getColorForPercentage = function(pct) {\n    for (var i = 1; i < percentColors.length - 1; i++) {\n        if (pct < percentColors[i].pct) {\n            break;\n        }\n    }\n    var lower = percentColors[i - 1];\n    var upper = percentColors[i];\n    var range = upper.pct - lower.pct;\n    var rangePct = (pct - lower.pct) / range;\n    var pctLower = 1 - rangePct;\n    var pctUpper = rangePct;\n    var color = {\n        r: Math.floor(lower.color.r * pctLower + upper.color.r * pctUpper),\n        g: Math.floor(lower.color.g * pctLower + upper.color.g * pctUpper),\n        b: Math.floor(lower.color.b * pctLower + upper.color.b * pctUpper)\n    };\n    return 'rgb(' + [color.r, color.g, color.b].join(',') + ')';\n    // or output as hex if preferred\n};\n\nconst useStyles = makeStyles({\n    chip: {\n        backgroundColor: getColorForPercentage(.0)\n    }\n  });\n\nconst Main = styled.main`\n  display: flex;\n  justify-content: center;\n`\n\nconst TrendyAuctionContainer = styled.div`\n    width: 100%;\n    margin-bottom: 160px;\n    display: flex;\n    flex-direction: row;\n    max-width: 768px;\n    justify-content: center;\n    justify-items: center;\n    @media (max-width: 600px) {\n        flex-direction: column;\n    }\n`\n\nconst TrendyImageContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    justify-items: center;\n    align-items: center;\n    align-content: center;\n    width: 50%;\n    height: 400px;\n    @media (max-width: 600px) {\n        width: 100%;\n        height: 300px;\n    }\n`\n\nconst TrendyImage = styled.img`\n    height: 88%;\n    @media (max-width: 600px) {\n        height: 92%;\n    }\n`\n\nconst TrendyAuctionDetail = styled.div`\n    margin: 0 16px;\n    width: calc(50% - 32px);\n    @media (max-width: 600px) {\n        width: calc(100% - 32px);\n    }\n`\n\nconst Title = styled.h3`\n    font-weight: 200;\n`\n\nexport default function TrendyAuction() {\n    const [itemImage, setItemImage] = useState('')\n    const [itemName, setItemName] = useState('')\n    const [itemAuctionEndDate, setItemAuctionEndDate] = useState(Date.now())\n    const [itemDetails, setItemDetails] = useState('')\n\n    useEffect(() => {\n        fetchTrendyItem((trendyItem) => {\n            setItemImage(trendyItem.images[0]) \n            setItemName(trendyItem.title)\n            setItemAuctionEndDate(trendyItem.auction_closes_at)\n            setItemDetails(trendyItem.details.substring(0, 160) + \"...\")\n        })\n    }, []);\n\n    const customStyle = useStyles()\n\n    return (\n        <Main>\n            <TrendyAuctionContainer>\n                <TrendyImageContainer>\n                    <TrendyImage src={itemImage} />\n                </TrendyImageContainer>\n                <TrendyAuctionDetail>\n                    <Title>{itemName}</Title>\n                    <Chip classes={{root: customStyle.chip}} label={<Countdown date={itemAuctionEndDate} />} color=\"primary\" />\n                    <p>\n                        {itemDetails}\n                    </p>\n                    <Button>View auction</Button>\n                </TrendyAuctionDetail>\n            </TrendyAuctionContainer>\n        </Main>\n    )\n}\n\nasync function fetchTrendyItem(onSuccess) {\n    await Api.axiosInstance.get(`${process.env.NEXT_PUBLIC_API_URL}/products/trendy`).then(function (response) {\n        onSuccess(response.data);\n    }).catch(function (error) {\n        console.log(error)\n    });\n}"]},"metadata":{},"sourceType":"module"}