{"ast":null,"code":"var _jsxFileName = \"/Users/hectorandac/Documents/Projects/auctions/auctions-front-end/pages/components/searchBar.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport styled from 'styled-components';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useState, createRef, useEffect } from 'react';\nimport { Chip } from '@material-ui/core';\nconst SearchButton = styled.div`\n    width: 44px;\n    height: 48px;\n    background-color: white;\n    margin-left: 4px;\n    border-radius: 4px;\n    box-shadow: 0 3px 5px 2px rgba(0, 0, 0, .1);\n    display: flex;\n    justify-content: center;\n    justify-items: center;\n    align-content: center;\n    align-items: center;\n    transition: 0.5s;\n    :hover {\n    box-shadow: 0 3px 5px 2px rgba(0, 0, 0, .2)\n    }\n    :active {\n    box-shadow: 0 3px 5px 2px rgba(0, 0, 0, 0);\n    }\n`;\nconst SearchBarContainer = styled.div`\n  width: 100%;\n  height: 48px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n`;\nconst SearchInput = styled.input`\n  width: calc(100% - 48px);\n  background-color: #ffffff;\n  outline: none;\n  border: none;\n  height: 100%;\n  font-family: raleway, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  padding-left: 8px;\n  font-size: 16px;\n  font-weight: 100;\n  box-shadow: 0 3px 5px 2px rgba(0, 0, 0, .1);\n  border-radius: 4px;\n`;\nconst RemoveText = styled.div`\n  width: 14px;\n  height: 14px;\n  border-radius: 7px;\n  right: 56px;\n  top: 17px;\n  line-height: 14px;\n  background-color: lightgray;\n  color: gray;\n  position: absolute;\n  text-align: center;\n  vertical-align: middle;\n  margin: auto;\n  cursor: pointer;\n  display: ${props => props.haveText ? 'show' : 'none'};\n`;\nconst SearchSection = styled.div`  position: absolute;\n  top: 51px;\n  right: 0;\n  left: 0;\n  width: 75%;\n  max-width: 450px;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  overflow: visible;\n  @media (max-width: 600px) {\n        width: 95%;\n    }\n`;\nconst SearchResults = styled.ul`\n  margin-top: 4px;\n  background-color: white;\n  border-radius: 4px;\n  height: auto;\n  overflow: scroll;\n  width: 100%;\n  height: ${props => props.height !== undefined ? props.height + 'px' : 0};\n  max-height: 360px;\n  z-index: 10;\n  box-shadow: 0 3px 5px 2px rgba(0, 0, 0, ${props => props.hide ? 0 : 0.1});\n  list-style-type: none;\n  padding-inline-start: 0;\n  margin-bottom: -1px;\n  transition: 0.3s ease-out;\n`;\nconst SearchResult = styled.li`\n  position: relative;\n  padding: 16px;\n  cursor: pointer;\n  transition: 0.5s;\n  background-color: ${props => props.focused ? '#ECF5FE' : 'white'};\n  :nth-child(n+1):nth-last-child(-n+1),\n  :nth-child(n+1):nth-last-child(-n+1) ~ li {\n    border:none;\n  }\n  :hover {\n    background-color: #ECF5FE;\n  }\n  :before {\n    font-size: 12px;\n    content: '${props => props.category}';\n    margin-right: 8px;\n    background-color: #A9A9A9;\n    color: white;\n    padding: 4px;\n    border-radius: 4px;\n  }\n  :after {\n    opacity: ${props => props.focused ? '1' : '0'};\n    color: white;\n    transition: 0.5s;\n    background: lightgrey;\n    direction: ltr;\n    display: inline-block;\n    font-family: 'Material Icons', Verdana, Geneva, Tahoma, sans-serif;\n    font-size: 12px;\n    border-radius: 4px;\n    padding: 2px;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    line-height: 1;\n    text-transform: none;\n    white-space: nowrap;\n    word-wrap: normal;\n    -webkit-font-feature-settings: 'liga';\n    -webkit-font-smoothing: antialiased;\n    content: \"keyboard_return\";\n    position: absolute;\n    right: 8px;\n    top: 0;\n    bottom: 0;\n    margin: auto 0;\n    height: 12px;\n  }\n`;\n\nconst scrollToRef = (parent, ref) => parent.scrollTo(0, parent.offsetTop - ref.offsetTop);\n\nconst searchField = /*#__PURE__*/createRef();\nexport default function SearchBar(props) {\n  const {\n    0: search,\n    1: setSearch\n  } = useState(\"\");\n  const {\n    0: results,\n    1: setResults\n  } = useState([]);\n  const {\n    0: currentNode,\n    1: setCurrentNode\n  } = useState(0);\n  let refs = [];\n  const upPress = useKeyPress('ArrowDown', () => handleDownKey(currentNode, setCurrentNode, results, refs));\n  const downPress = useKeyPress('ArrowUp', () => handleUpKey(currentNode, setCurrentNode, results, refs));\n  return __jsx(SearchSection, _extends({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }), __jsx(SearchBarContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, __jsx(SearchInput, {\n    ref: searchField,\n    value: search,\n    onChange: t => handleOnChnage(t.target.value, setSearch, setResults),\n    placeholder: \"Search for anything\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }), __jsx(SearchButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, __jsx(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 15\n    }\n  })), __jsx(RemoveText, {\n    align: \"center\",\n    haveText: search.length > 0,\n    onClick: () => handleOnChnage('', setSearch, setResults),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, \"\\xD7\")), __jsx(SearchResults, {\n    hide: results.length == 0,\n    height: results.length * 52,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, results.map((r, index) => {\n    return __jsx(SearchResult, {\n      ref: node => refs = [...refs, node],\n      focused: index === currentNode,\n      category: 'category',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 22\n      }\n    }, r);\n  })));\n}\n\nfunction handleUpKey(currentNode, setCurrentNode, results, refs) {\n  console.log(refs);\n  let tempNode = currentNode - 1;\n  if (currentNode > 0) setCurrentNode(tempNode);\n  scrollToRef(refs[tempNode]);\n}\n\nfunction handleDownKey(currentNode, setCurrentNode, results, refs) {\n  console.log(refs);\n  let tempNode = currentNode + 1;\n  if (currentNode < results.length) setCurrentNode(tempNode);\n  scrollToRef(refs[tempNode]);\n}\n\nfunction handleOnChnage(value, searchSetter, resultSetter) {\n  searchSetter(value);\n\n  if (value.length == 0) {\n    resultSetter([]);\n  } else {\n    resultSetter(fetchResults(value));\n  }\n\n  if (searchField.current != null) {\n    searchField.current.focus();\n  }\n}\n\nfunction fetchResults(value) {\n  return [\"Test result 1\", \"Test result 2\", \"Test result 3\", \"Test result 4\", \"Test result 5\", \"Test result 6\", \"Test result 7\", \"Test result 8\"];\n}\n\nexport function useKeyPress(targetKey, onPressDown = () => {}, onPressUp = () => {}) {\n  // State for keeping track of whether key is pressed\n  const {\n    0: keyPressed,\n    1: setKeyPressed\n  } = useState(false);\n  useEffect(() => {\n    // If pressed key is our target key then set to true\n    function downHandler({\n      key\n    }) {\n      if (key === targetKey) {\n        setKeyPressed(true);\n        onPressDown();\n      }\n    } // If released key is our target key then set to false\n\n\n    const upHandler = ({\n      key\n    }) => {\n      if (key === targetKey) {\n        setKeyPressed(false);\n        onPressUp();\n      }\n    }; // Add event listeners\n\n\n    window.addEventListener('keydown', downHandler);\n    window.addEventListener('keyup', upHandler); // Remove event listeners on cleanup\n\n    return () => {\n      window.removeEventListener('keydown', downHandler);\n      window.removeEventListener('keyup', upHandler);\n    };\n  });\n  return keyPressed;\n}","map":{"version":3,"sources":["/Users/hectorandac/Documents/Projects/auctions/auctions-front-end/pages/components/searchBar.js"],"names":["styled","SearchIcon","useState","createRef","useEffect","Chip","SearchButton","div","SearchBarContainer","SearchInput","input","RemoveText","props","haveText","SearchSection","SearchResults","ul","height","undefined","hide","SearchResult","li","focused","category","scrollToRef","parent","ref","scrollTo","offsetTop","searchField","SearchBar","search","setSearch","results","setResults","currentNode","setCurrentNode","refs","upPress","useKeyPress","handleDownKey","downPress","handleUpKey","t","handleOnChnage","target","value","length","map","r","index","node","console","log","tempNode","searchSetter","resultSetter","fetchResults","current","focus","targetKey","onPressDown","onPressUp","keyPressed","setKeyPressed","downHandler","key","upHandler","window","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import styled from 'styled-components'\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useState, createRef, useEffect } from 'react'\nimport { Chip } from '@material-ui/core';\n\nconst SearchButton = styled.div`\n    width: 44px;\n    height: 48px;\n    background-color: white;\n    margin-left: 4px;\n    border-radius: 4px;\n    box-shadow: 0 3px 5px 2px rgba(0, 0, 0, .1);\n    display: flex;\n    justify-content: center;\n    justify-items: center;\n    align-content: center;\n    align-items: center;\n    transition: 0.5s;\n    :hover {\n    box-shadow: 0 3px 5px 2px rgba(0, 0, 0, .2)\n    }\n    :active {\n    box-shadow: 0 3px 5px 2px rgba(0, 0, 0, 0);\n    }\n`\n\nconst SearchBarContainer = styled.div`\n  width: 100%;\n  height: 48px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n`\n\nconst SearchInput = styled.input`\n  width: calc(100% - 48px);\n  background-color: #ffffff;\n  outline: none;\n  border: none;\n  height: 100%;\n  font-family: raleway, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  padding-left: 8px;\n  font-size: 16px;\n  font-weight: 100;\n  box-shadow: 0 3px 5px 2px rgba(0, 0, 0, .1);\n  border-radius: 4px;\n`\n\nconst RemoveText = styled.div`\n  width: 14px;\n  height: 14px;\n  border-radius: 7px;\n  right: 56px;\n  top: 17px;\n  line-height: 14px;\n  background-color: lightgray;\n  color: gray;\n  position: absolute;\n  text-align: center;\n  vertical-align: middle;\n  margin: auto;\n  cursor: pointer;\n  display: ${ props => props.haveText ? 'show' : 'none' };\n`\n\nconst SearchSection = styled.div`  position: absolute;\n  top: 51px;\n  right: 0;\n  left: 0;\n  width: 75%;\n  max-width: 450px;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  overflow: visible;\n  @media (max-width: 600px) {\n        width: 95%;\n    }\n`\n\nconst SearchResults = styled.ul`\n  margin-top: 4px;\n  background-color: white;\n  border-radius: 4px;\n  height: auto;\n  overflow: scroll;\n  width: 100%;\n  height: ${props => props.height !== undefined ? props.height + 'px' : 0 };\n  max-height: 360px;\n  z-index: 10;\n  box-shadow: 0 3px 5px 2px rgba(0, 0, 0, ${props => props.hide ? 0 : 0.1});\n  list-style-type: none;\n  padding-inline-start: 0;\n  margin-bottom: -1px;\n  transition: 0.3s ease-out;\n`\n\nconst SearchResult = styled.li`\n  position: relative;\n  padding: 16px;\n  cursor: pointer;\n  transition: 0.5s;\n  background-color: ${props => props.focused ? '#ECF5FE' : 'white'};\n  :nth-child(n+1):nth-last-child(-n+1),\n  :nth-child(n+1):nth-last-child(-n+1) ~ li {\n    border:none;\n  }\n  :hover {\n    background-color: #ECF5FE;\n  }\n  :before {\n    font-size: 12px;\n    content: '${props => props.category}';\n    margin-right: 8px;\n    background-color: #A9A9A9;\n    color: white;\n    padding: 4px;\n    border-radius: 4px;\n  }\n  :after {\n    opacity: ${props => props.focused ? '1' : '0'};\n    color: white;\n    transition: 0.5s;\n    background: lightgrey;\n    direction: ltr;\n    display: inline-block;\n    font-family: 'Material Icons', Verdana, Geneva, Tahoma, sans-serif;\n    font-size: 12px;\n    border-radius: 4px;\n    padding: 2px;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    line-height: 1;\n    text-transform: none;\n    white-space: nowrap;\n    word-wrap: normal;\n    -webkit-font-feature-settings: 'liga';\n    -webkit-font-smoothing: antialiased;\n    content: \"keyboard_return\";\n    position: absolute;\n    right: 8px;\n    top: 0;\n    bottom: 0;\n    margin: auto 0;\n    height: 12px;\n  }\n`\n\nconst scrollToRef = (parent, ref) => parent.scrollTo(0, parent.offsetTop - ref.offsetTop)\nconst searchField = createRef();\nexport default function SearchBar(props) {\n    const [search, setSearch] = useState(\"\");\n    const [results, setResults] = useState([]);\n    const [currentNode, setCurrentNode] = useState(0);\n    let refs = [];\n     \n    const upPress = useKeyPress('ArrowDown', () => handleDownKey(currentNode, setCurrentNode, results, refs));\n    const downPress = useKeyPress('ArrowUp', () => handleUpKey(currentNode, setCurrentNode, results, refs));\n\n    return (\n      <SearchSection {...props}>\n        <SearchBarContainer>\n          <SearchInput ref={searchField} value={search} onChange={(t) => handleOnChnage(t.target.value, setSearch, setResults)} placeholder=\"Search for anything\"/>\n          <SearchButton>\n              <SearchIcon />\n          </SearchButton>\n          <RemoveText align=\"center\"  haveText={search.length > 0} onClick={() => handleOnChnage('', setSearch, setResults)}>×</RemoveText>\n        </SearchBarContainer>\n        <SearchResults hide={results.length == 0} height={results.length * 52} >\n          {results.map((r, index) => {\n              return <SearchResult ref={node => refs = [...refs, node]} focused={index === currentNode} category={'category'}>{r}</SearchResult>\n            }\n          )}\n        </SearchResults>\n      </SearchSection>\n    )\n}\n\nfunction handleUpKey(currentNode, setCurrentNode, results, refs) {\n  console.log(refs)\n  let tempNode = currentNode - 1\n  if(currentNode > 0) setCurrentNode(tempNode)\n  scrollToRef(refs[tempNode])\n}\n\nfunction handleDownKey(currentNode, setCurrentNode, results, refs) {\n  console.log(refs)\n  let tempNode = currentNode + 1\n  if(currentNode < results.length) setCurrentNode(tempNode)\n  scrollToRef(refs[tempNode])\n}\n\nfunction handleOnChnage(value, searchSetter, resultSetter) {\n  searchSetter(value)\n  if(value.length == 0) {\n    resultSetter([])\n  } else {\n    resultSetter(fetchResults(value))\n  }\n  if (searchField.current != null) {\n    searchField.current.focus();\n  }\n}\n\nfunction fetchResults(value) {\n  return [\"Test result 1\", \"Test result 2\", \"Test result 3\", \"Test result 4\", \"Test result 5\", \"Test result 6\", \"Test result 7\", \"Test result 8\"]\n}\n\nexport function useKeyPress(targetKey, onPressDown = () => {}, onPressUp = () => {}) {\n\t// State for keeping track of whether key is pressed\n\tconst [keyPressed, setKeyPressed] = useState(false);\n\n\tuseEffect(() => {\n\t\t// If pressed key is our target key then set to true\n\t\tfunction downHandler({ key }) {\n\t\t\tif (key === targetKey) {\n\t\t\t\tsetKeyPressed(true);\n\t\t\t\tonPressDown();\n\t\t\t}\n\t\t}\n\n\t\t// If released key is our target key then set to false\n\t\tconst upHandler = ({ key }) => {\n\t\t\tif (key === targetKey) {\n\t\t\t\tsetKeyPressed(false);\n\t\t\t\tonPressUp();\n\t\t\t}\n\t\t};\n\n\t\t// Add event listeners\n\t\twindow.addEventListener('keydown', downHandler);\n\t\twindow.addEventListener('keyup', upHandler);\n\n\t\t// Remove event listeners on cleanup\n\t\treturn () => {\n\t\t\twindow.removeEventListener('keydown', downHandler);\n\t\t\twindow.removeEventListener('keyup', upHandler);\n\t\t};\n\t});\n\n\treturn keyPressed;\n}"]},"metadata":{},"sourceType":"module"}